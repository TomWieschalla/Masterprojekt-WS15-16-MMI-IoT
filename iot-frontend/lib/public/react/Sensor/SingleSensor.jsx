var React = require('react')
  , Arrow3D = require('../shared/Arrow3D')
  , TopBar = require('../shared/TopBar');

var SingleSensor = React.createClass({

  propTypes: {
    user: React.PropTypes.object,
    sensor: React.PropTypes.object
  },

  getInitialState: function() {
    return {
      isLive: false,
      cQ: [0, 0, 0, 0],
      fields: [
        ['id', 'ID'],
        'location',
        ['creationDate', 'created'],
        ['sensorTypes','sensor types'],
        'owner',
        ['attachedGateway', 'attached to gateway']
      ]
    };
  },

  componentDidMount: function() {
    var quads = [
[0.126343, -0.979004, -0.04657, 0.153137],
[0.126648, -0.978882, -0.046631, 0.153442],
[0.12677, -0.978882, -0.046753, 0.153564],
[0.127014, -0.97876, -0.046814, 0.153809],
[0.127197, -0.978699, -0.046814, 0.154114],
[0.127319, -0.978699, -0.046875, 0.154236],
[0.127502, -0.978638, -0.046875, 0.154541],
[0.127625, -0.978516, -0.046875, 0.154846],
[0.127686, -0.978516, -0.046875, 0.154968],
[0.127808, -0.978455, -0.046997, 0.15509],
[0.127991, -0.978394, -0.047058, 0.155273],
[0.128174, -0.978333, -0.047058, 0.155518],
[0.128235, -0.978333, -0.047058, 0.15564],
[0.128418, -0.978271, -0.047058, 0.155884],
[0.128479, -0.97821, -0.047058, 0.155945],
[0.128662, -0.978149, -0.047058, 0.156189],
[0.128845, -0.978088, -0.047058, 0.156494],
[0.128906, -0.978088, -0.046997, 0.156555],
[0.128967, -0.978088, -0.047058, 0.156677],
[0.129089, -0.978027, -0.047058, 0.156799],
[0.12915, -0.978027, -0.047058, 0.15686],
[0.129272, -0.977966, -0.047119, 0.157043],
[0.129333, -0.977905, -0.04718, 0.157166],
[0.129395, -0.977905, -0.04718, 0.157288],
[0.129517, -0.977844, -0.04718, 0.15741],
[0.129639, -0.977844, -0.04718, 0.157532],
[0.129761, -0.977783, -0.04718, 0.157776],
[0.129822, -0.977722, -0.04718, 0.157898],
[0.129883, -0.977722, -0.04718, 0.158081],
[0.129944, -0.977661, -0.04718, 0.158142],
[0.129944, -0.977661, -0.04718, 0.158203],
[0.130005, -0.977661, -0.04718, 0.158325],
[0.130066, -0.9776, -0.04718, 0.158447],
[0.130127, -0.9776, -0.04718, 0.158508],
[0.130188, -0.9776, -0.04718, 0.15863],
[0.130371, -0.977539, -0.04718, 0.158752],
[0.130615, -0.977478, -0.047119, 0.158875],
[0.130859, -0.977417, -0.047119, 0.159058],
[0.130981, -0.977417, -0.047119, 0.159119],
[0.131165, -0.977356, -0.047058, 0.15918],
[0.13147, -0.977295, -0.047058, 0.159241],
[0.131775, -0.977295, -0.046997, 0.159241],
[0.132019, -0.977234, -0.046936, 0.159302],
[0.132019, -0.977234, -0.046936, 0.159363],
[0.13208, -0.977234, -0.046936, 0.159424],
[0.13208, -0.977234, -0.046936, 0.159424],
[0.132202, -0.977173, -0.046936, 0.159485],
[0.132263, -0.977173, -0.046936, 0.159546],
[0.132385, -0.977173, -0.046875, 0.159546],
[0.132568, -0.977112, -0.046875, 0.159668],
[0.13269, -0.977051, -0.046875, 0.15979],
[0.132996, -0.97699, -0.046875, 0.160095],
[0.133179, -0.976929, -0.046753, 0.160217],
[0.133362, -0.976868, -0.046692, 0.160339],
[0.133728, -0.976868, -0.046509, 0.160339],
[0.13385, -0.976807, -0.046448, 0.1604],
[0.134094, -0.976807, -0.046265, 0.160461],
[0.134094, -0.976807, -0.046143, 0.160522],
[0.134155, -0.976807, -0.046143, 0.160522],
[0.134216, -0.976746, -0.046021, 0.160645],
[0.134216, -0.976746, -0.046021, 0.160706],
[0.134277, -0.976746, -0.046021, 0.160645],
[0.134277, -0.976746, -0.046021, 0.160645],
[0.134277, -0.976746, -0.046021, 0.160706],
[0.134277, -0.976746, -0.046021, 0.160706],
[0.134277, -0.976746, -0.046021, 0.160767],
[0.134277, -0.976746, -0.046082, 0.160828],
[0.134277, -0.976685, -0.046082, 0.16095],
[0.13446, -0.976685, -0.046082, 0.161072],
[0.134583, -0.976624, -0.046021, 0.161194],
[0.134766, -0.976562, -0.046021, 0.161316],
[0.135132, -0.976501, -0.045898, 0.161499],
[0.135376, -0.97644, -0.045837, 0.161621],
[0.135742, -0.976379, -0.045654, 0.161743],
[0.135986, -0.976318, -0.045593, 0.161804],
[0.136169, -0.976318, -0.045532, 0.161865],
[0.136414, -0.976257, -0.045532, 0.161926],
[0.136536, -0.976257, -0.045593, 0.161987],
[0.136536, -0.976257, -0.045654, 0.161926],
[0.136597, -0.976257, -0.045959, 0.161743],
[0.136597, -0.976257, -0.046143, 0.16156],
[0.136536, -0.976257, -0.046448, 0.161438],
[0.136475, -0.976257, -0.046692, 0.161438],
[0.136353, -0.976318, -0.047058, 0.161377],
[0.136292, -0.976318, -0.047424, 0.161255],
[0.136047, -0.976318, -0.048096, 0.161133],
[0.135925, -0.976318, -0.048462, 0.161072],
[0.135803, -0.976318, -0.048828, 0.161011],
[0.135681, -0.976379, -0.0495, 0.160828],
[0.135681, -0.976379, -0.049805, 0.160706],
[0.135742, -0.976379, -0.049988, 0.160645],
[0.135742, -0.976379, -0.05011, 0.160522],
[0.135742, -0.976379, -0.050049, 0.160645],
[0.135681, -0.976379, -0.049927, 0.160645],
[0.13562, -0.976379, -0.049744, 0.160583],
[0.135498, -0.97644, -0.0495, 0.160461],
[0.135437, -0.976562, -0.048828, 0.159973],
[0.135437, -0.976624, -0.048462, 0.159607],
[0.135437, -0.976746, -0.048035, 0.159302],
[0.135559, -0.976807, -0.047607, 0.158936],
[0.135742, -0.976868, -0.046692, 0.158325],
[0.135925, -0.976929, -0.046265, 0.15802],
[0.136353, -0.97699, -0.045288, 0.157532],
[0.136658, -0.977051, -0.0448, 0.157288],
[0.136902, -0.977051, -0.044373, 0.157043],
[0.137268, -0.977051, -0.043945, 0.156799],
[0.138123, -0.977051, -0.04303, 0.156189],
[0.138672, -0.977051, -0.042419, 0.155884],
[0.139221, -0.977051, -0.041748, 0.15564],
[0.140381, -0.97699, -0.040405, 0.155273],
[0.141052, -0.97699, -0.039673, 0.154968],
[0.142273, -0.97699, -0.038086, 0.154419],
[0.142822, -0.976929, -0.037292, 0.154175],
[0.143372, -0.976929, -0.036499, 0.15387],
[0.14386, -0.976929, -0.035706, 0.153625],
[0.144531, -0.976929, -0.034424, 0.153198],
[0.144775, -0.976929, -0.033936, 0.153137],
[0.144836, -0.976929, -0.033936, 0.153137],
[0.144714, -0.976929, -0.034058, 0.15332],
[0.144165, -0.976807, -0.03418, 0.15448],
[0.143738, -0.976746, -0.03418, 0.155518],
[0.14209, -0.97644, -0.033875, 0.15863],
[0.14093, -0.976318, -0.033447, 0.160828],
[0.139282, -0.976074, -0.032776, 0.163757],
[0.136719, -0.975769, -0.031921, 0.167847],
[0.132996, -0.97522, -0.030762, 0.174011],
[0.113586, -0.971375, -0.023438, 0.207214],
[0.105774, -0.969116, -0.020325, 0.221985],
[0.088379, -0.962769, -0.016052, 0.254944],
[0.079651, -0.958801, -0.016174, 0.272278],
[0.070557, -0.954224, -0.018799, 0.2901],
[0.050171, -0.94397, -0.03302, 0.324585],
[0.039124, -0.938721, -0.044006, 0.339539],
[0.017395, -0.928589, -0.069763, 0.364014],
[0.007629, -0.92395, -0.083862, 0.373108],
[0.000549, -0.920349, -0.097778, 0.378723],
[-0.002441, -0.916565, -0.137695, 0.375427],
[0.001831, -0.916748, -0.148865, 0.370605],
[0.00824, -0.917175, -0.158447, 0.36554],
[0.027344, -0.917297, -0.172546, 0.357788],
[0.0401, -0.916565, -0.176758, 0.356445],
[0.090149, -0.909912, -0.17865, 0.363342],
[0.109863, -0.906189, -0.176086, 0.368408],
[0.130066, -0.901794, -0.172363, 0.374329],
[0.150269, -0.896912, -0.167664, 0.380615],
[0.170105, -0.891663, -0.162231, 0.386841],
[0.227356, -0.876221, -0.140686, 0.400879],
[0.245422, -0.871948, -0.131348, 0.40271],
[0.261841, -0.868347, -0.121399, 0.403381],
[0.28717, -0.862427, -0.10144, 0.404297],
[0.295288, -0.859985, -0.091858, 0.405945],
[0.302307, -0.855225, -0.073975, 0.414429],
[0.301697, -0.852783, -0.065918, 0.421204],
[0.298828, -0.850403, -0.058533, 0.429077],
[0.294006, -0.84845, -0.051819, 0.437012],
[0.287659, -0.847473, -0.045593, 0.443848],
[0.271729, -0.848755, -0.034119, 0.452332],
[0.262817, -0.851135, -0.029053, 0.453552],
[0.244934, -0.857544, -0.022034, 0.451904],
[0.236328, -0.860596, -0.020874, 0.450684],
[0.22821, -0.863098, -0.021545, 0.450073],
[0.205627, -0.866943, -0.032043, 0.452942],
[0.197449, -0.867615, -0.037537, 0.454773],
[0.177734, -0.869141, -0.050293, 0.45874],
[-0.425598, -0.091553, -0.86731, 0.241333],
[-0.432312, -0.077332, -0.873169, 0.211426],
[-0.435059, -0.069824, -0.876526, 0.193726],
[-0.438965, -0.053833, -0.883362, 0.155334],
[-0.439209, -0.045532, -0.88678, 0.136536],
[-0.437866, -0.037415, -0.89032, 0.119385],
[-0.430786, -0.021118, -0.897644, 0.090454],
[-0.418274, -0.004272, -0.905762, 0.067993],
[-0.410828, 0.00238, -0.909729, 0.059753],
[-0.403137, 0.007935, -0.913513, 0.053589],
[-0.39563, 0.012329, -0.916992, 0.049622],
[-0.389282, 0.015503, -0.919739, 0.047913],
[-0.382629, 0.018677, -0.922302, 0.051208],
[-0.385132, 0.017578, -0.920593, 0.062378],
[-0.388794, 0.015564, -0.918518, 0.07019],
[-0.393555, 0.012695, -0.915771, 0.079285],
[-0.399292, 0.009094, -0.912415, 0.089539],
[-0.4198, -0.005127, -0.898865, 0.125366],
[-0.435486, -0.016602, -0.887146, 0.151794],
[-0.435486, -0.016602, -0.887146, 0.151794],
[-0.45166, -0.029846, -0.873596, 0.178711],
[-0.45929, -0.037231, -0.866455, 0.192139],
[-0.466187, -0.045166, -0.859314, 0.205383],
[-0.476318, -0.0625, -0.846252, 0.230408],
[-0.47876, -0.072205, -0.84082, 0.242126],
[-0.479553, -0.082275, -0.836243, 0.252991],
[-0.477234, -0.102905, -0.82959, 0.271057],
[-0.47522, -0.113037, -0.827209, 0.277832],
[-0.473267, -0.122681, -0.825195, 0.282959],
[-0.471802, -0.14032, -0.821411, 0.288086],
[-0.475708, -0.154968, -0.8172, 0.286133],
[-0.479187, -0.160828, -0.815369, 0.282288],
[-0.483093, -0.165588, -0.814087, 0.276489],
[-0.489868, -0.171631, -0.81427, 0.259949],
[-0.491943, -0.172913, -0.815857, 0.249939],
[-0.49292, -0.173157, -0.818359, 0.239319],
[-0.493103, -0.172546, -0.821594, 0.228088],
[-0.492432, -0.171204, -0.825378, 0.216614],
[-0.488037, -0.167786, -0.834167, 0.194519],
[-0.483643, -0.166138, -0.839417, 0.184021],
[-0.477417, -0.164612, -0.845337, 0.174133],
[-0.469482, -0.16333, -0.851868, 0.164917],
[-0.448669, -0.161133, -0.866333, 0.149109],
[-0.43634, -0.159973, -0.873962, 0.142151],
[-0.410889, -0.156982, -0.888794, 0.128601],
[-0.388245, -0.154602, -0.901245, 0.114563],
[-0.375977, -0.154236, -0.906982, 0.110352],
[-0.34906, -0.152832, -0.91687, 0.119141],
[-0.33429, -0.152283, -0.920776, 0.131409],
[-0.320251, -0.151855, -0.923706, 0.145264],
[-0.306458, -0.152771, -0.92627, 0.15741],
[-0.294434, -0.154846, -0.928284, 0.166199],
[-0.280518, -0.159546, -0.930664, 0.172546],
[-0.272644, -0.162659, -0.932739, 0.170959],
[-0.269409, -0.164185, -0.933594, 0.169983],
[-0.263, -0.167969, -0.934692, 0.170288],
[-0.259705, -0.170227, -0.934998, 0.171387],
[-0.256531, -0.172424, -0.935242, 0.172729],
[-0.253418, -0.174438, -0.935425, 0.174194],
[-0.247681, -0.17749, -0.935852, 0.177002],
[-0.245117, -0.178528, -0.936096, 0.178223],
[-0.242676, -0.17926, -0.936462, 0.179016],
[-0.240295, -0.179565, -0.936951, 0.179382],
[-0.235413, -0.179749, -0.93811, 0.179382],
[-0.233154, -0.17981, -0.938721, 0.179199],
[-0.231079, -0.180115, -0.939209, 0.179077],
[-0.229187, -0.180542, -0.939575, 0.179077],
[-0.225769, -0.181824, -0.940063, 0.179504],
[-0.222351, -0.183594, -0.940369, 0.180542],
[-0.220398, -0.18457, -0.940552, 0.180847],
[-0.217407, -0.185913, -0.940796, 0.181824],
[-0.216309, -0.186279, -0.940857, 0.182434],
[-0.215393, -0.186584, -0.940918, 0.182983],
[-0.214661, -0.186768, -0.940918, 0.183533],
[-0.213501, -0.187073, -0.940918, 0.184631],
[-0.213013, -0.187134, -0.940918, 0.18512],
[-0.212524, -0.187195, -0.940918, 0.185608],
[-0.212097, -0.187134, -0.940918, 0.186157],
[-0.211304, -0.187012, -0.940918, 0.187134],
[-0.210815, -0.186951, -0.940979, 0.187561],
[-0.210266, -0.186829, -0.94104, 0.188049],
[-0.209717, -0.186829, -0.94104, 0.188477],
[-0.208557, -0.186829, -0.941162, 0.189331],
[-0.20752, -0.186951, -0.941223, 0.189941],
[-0.207092, -0.187012, -0.941223, 0.190186],
[-0.206665, -0.187134, -0.941284, 0.19043],
[-0.205994, -0.187256, -0.941345, 0.190857],
[-0.205688, -0.187256, -0.941345, 0.190979],
[-0.205505, -0.187195, -0.941345, 0.191162],
[-0.2052, -0.187073, -0.941406, 0.191406],
[-0.205139, -0.18689, -0.941467, 0.191528],
[-0.205078, -0.186707, -0.941467, 0.19165],
[-0.205078, -0.186523, -0.941467, 0.191711],
[-0.205078, -0.186279, -0.941528, 0.191833],
[-0.205139, -0.18573, -0.941528, 0.1922],
[-0.205139, -0.185425, -0.941589, 0.192383],
[-0.205078, -0.185059, -0.941589, 0.192627],
[-0.205017, -0.184753, -0.941589, 0.192871],
[-0.204834, -0.184143, -0.94165, 0.19342],
[-0.204712, -0.183838, -0.94165, 0.193726],
[-0.20459, -0.183594, -0.941711, 0.194031],
[-0.204407, -0.18335, -0.941711, 0.194275],
[-0.204285, -0.183167, -0.941711, 0.194519],
[-0.204102, -0.182983, -0.941772, 0.194763],
[-0.204041, -0.182861, -0.941772, 0.194946],
[-0.203918, -0.1828, -0.941772, 0.195129],
[-0.203857, -0.182678, -0.941772, 0.195312],
[-0.203857, -0.182556, -0.941772, 0.195435],
[-0.203796, -0.182495, -0.941772, 0.195557],
[-0.203796, -0.182373, -0.941772, 0.195618],
[-0.203735, -0.182251, -0.941772, 0.195679],
[-0.203735, -0.18219, -0.941833, 0.19574],
[-0.203735, -0.18219, -0.941833, 0.19574],
[-0.203796, -0.181885, -0.941833, 0.195801],
[-0.203857, -0.18158, -0.941833, 0.195923],
[-0.203857, -0.181396, -0.941895, 0.195984],
[-0.203857, -0.181274, -0.941895, 0.196045],
[-0.203796, -0.181091, -0.941895, 0.196045],
[-0.203796, -0.180969, -0.941956, 0.196106],
[-0.203735, -0.180786, -0.941956, 0.196167],
[-0.203735, -0.180603, -0.942017, 0.196228],
[-0.203674, -0.180481, -0.942017, 0.196289],
[-0.203674, -0.18042, -0.942017, 0.19635],
[-0.203674, -0.180359, -0.942017, 0.19635],
[-0.203674, -0.180359, -0.942017, 0.196411],
[-0.203674, -0.180359, -0.942017, 0.196472],
[-0.203674, -0.180359, -0.942017, 0.196533],
[-0.203613, -0.180359, -0.942017, 0.196594],
[-0.203552, -0.180359, -0.942017, 0.196655],
[-0.20343, -0.18042, -0.942017, 0.196716],
[-0.203308, -0.18042, -0.942017, 0.196777],
[-0.203308, -0.18042, -0.942017, 0.196777],
[-0.203125, -0.180481, -0.942017, 0.196899],
[-0.203064, -0.180481, -0.942017, 0.196899],
[-0.203064, -0.180542, -0.942017, 0.196899],
[-0.203125, -0.180603, -0.942017, 0.19696],
[-0.203186, -0.180664, -0.941956, 0.19696],
[-0.203247, -0.180725, -0.941956, 0.19696],
[-0.203369, -0.180725, -0.941895, 0.196899],
[-0.203552, -0.180725, -0.941895, 0.196838],
[-0.203857, -0.180603, -0.941895, 0.196655],
[-0.203857, -0.180603, -0.941895, 0.196655],
[-0.205261, -0.180054, -0.941895, 0.195801],
[-0.206543, -0.179504, -0.941895, 0.194946],
[-0.208374, -0.178833, -0.941772, 0.19397],
[-0.21106, -0.177917, -0.94165, 0.192505],
[-0.21521, -0.176697, -0.941406, 0.190247],
[-0.220703, -0.175049, -0.941101, 0.18689],
[-0.22699, -0.173218, -0.940796, 0.182861],
[-0.23407, -0.171448, -0.940186, 0.178467],
[-0.242432, -0.169922, -0.939209, 0.173828],
[-0.252808, -0.168518, -0.937683, 0.168579],
[-0.265198, -0.166748, -0.935669, 0.162415],
[-0.279358, -0.164062, -0.933228, 0.155334],
[-0.295654, -0.159973, -0.930237, 0.147034],
[-0.314331, -0.154175, -0.926575, 0.137695],
[-0.334229, -0.146912, -0.92218, 0.127747],
[-0.354736, -0.138916, -0.917053, 0.117737],
[-0.416748, -0.112732, -0.897644, 0.088562],
[-0.436951, -0.103699, -0.890015, 0.078735],
[-0.456421, -0.094666, -0.88208, 0.068604],
[-0.474609, -0.085022, -0.874146, 0.057861],
[-0.489807, -0.074768, -0.867432, 0.045654],
[-0.5047, -0.064453, -0.860229, 0.033386],
[-0.527039, -0.046265, -0.848511, 0.010986],
[-0.534729, -0.040405, -0.844055, 0.001953],
[-0.54187, -0.035156, -0.839722, -0.00592],
[-0.549133, -0.030762, -0.835083, -0.011536],
[-0.5578, -0.0271, -0.829407, -0.015381],
[-0.568237, -0.023682, -0.822327, -0.018188],
[-0.579895, -0.020508, -0.814209, -0.020752],
[-0.59198, -0.018066, -0.80542, -0.023315],
[-0.604309, -0.015991, -0.796143, -0.025818],
[-0.616089, -0.01416, -0.787048, -0.028503],
[-0.626465, -0.012695, -0.778748, -0.031006],
[-0.635071, -0.012146, -0.771606, -0.033386],
[-0.641724, -0.010315, -0.76593, -0.037598],
[-0.646851, -0.011597, -0.761475, -0.040344],
[-0.650818, -0.013184, -0.757874, -0.043823],
[-0.653381, -0.014343, -0.755371, -0.04834],
[-0.654663, -0.014526, -0.753845, -0.053833],
[-0.655212, -0.013672, -0.75293, -0.060242],
[-0.655579, -0.011902, -0.752014, -0.067444],
[-0.656128, -0.009705, -0.750854, -0.075012],
[-0.656982, -0.007751, -0.74939, -0.082092],
[-0.657349, -0.006287, -0.748413, -0.087891],
[-0.656555, -0.005249, -0.748718, -0.09137],
[-0.65448, -0.005005, -0.750427, -0.092224],
[-0.652588, -0.00531, -0.752136, -0.091431],
[-0.652649, -0.00531, -0.752258, -0.090088],
[-0.654724, -0.005066, -0.75061, -0.088806],
[-0.658142, -0.004272, -0.747742, -0.08783],
[-0.661499, -0.002747, -0.744812, -0.087097],
[-0.664246, 6.1e-05, -0.742493, -0.086731],
[-0.666504, 0.004333, -0.740417, -0.08667],
[-0.668518, 0.009705, -0.738525, -0.086914],
[-0.670349, 0.015564, -0.736694, -0.087463],
[-0.672302, 0.021545, -0.73468, -0.088257],
[-0.674622, 0.027405, -0.732239, -0.089233],
[-0.677185, 0.03302, -0.729492, -0.090332],
[-0.679321, 0.038147, -0.727112, -0.091492],
[-0.681274, 0.042908, -0.724915, -0.092651],
[-0.682556, 0.046753, -0.723267, -0.09375],
[-0.683655, 0.049805, -0.721924, -0.094849],
[-0.683838, 0.052124, -0.721436, -0.095581],
[-0.682861, 0.053772, -0.722168, -0.095947],
[-0.68103, 0.055237, -0.723877, -0.095947],
[-0.678711, 0.056946, -0.725952, -0.095642],
[-0.676147, 0.059204, -0.728149, -0.095276],
[-0.671509, 0.064209, -0.732056, -0.095276],
[-0.669861, 0.065796, -0.733337, -0.095703],
[-0.669189, 0.066406, -0.733826, -0.096252],
[-0.669006, 0.066406, -0.733948, -0.096497],
[-0.669006, 0.065857, -0.73407, -0.096313],
[-0.668396, 0.067688, -0.734131, -0.098267],
[-0.668945, 0.066772, -0.733948, -0.096985],
[-0.669739, 0.066406, -0.733398, -0.095764],
[-0.670776, 0.066223, -0.732666, -0.094543],
[-0.671692, 0.065857, -0.731995, -0.093201],
[-0.671753, 0.069763, -0.731201, -0.095886],
[-0.671936, 0.069153, -0.731262, -0.094666],
[-0.671875, 0.068542, -0.731567, -0.093323],
[-0.671814, 0.067932, -0.731873, -0.09198],
[-0.671936, 0.067444, -0.731934, -0.090576],
[-0.671997, 0.071655, -0.731262, -0.092407],
[-0.672424, 0.071045, -0.73114, -0.090759],
[-0.674194, 0.070496, -0.729797, -0.088989],
[-0.67572, 0.070068, -0.728638, -0.087219],
[-0.676697, 0.07312, -0.727173, -0.088989],
[-0.678101, 0.072632, -0.726257, -0.086731],
[-0.678223, 0.072632, -0.726257, -0.085571],
[-0.678345, 0.072693, -0.726257, -0.084229],
[-0.67804, 0.077698, -0.725708, -0.087158],
[-0.678101, 0.077881, -0.725769, -0.085632],
[-0.678162, 0.078003, -0.725891, -0.084351],
[-0.678223, 0.078064, -0.725952, -0.083252],
[-0.678223, 0.078125, -0.726074, -0.082397],
[-0.677795, 0.080627, -0.726013, -0.084045],
[-0.677368, 0.080688, -0.72644, -0.083496],
[-0.676758, 0.08075, -0.727051, -0.082825],
[-0.677368, 0.080811, -0.726562, -0.082092],
[-0.678101, 0.080933, -0.725952, -0.081421],
[-0.678284, 0.085876, -0.724792, -0.085327],
[-0.678955, 0.085999, -0.724182, -0.084656],
[-0.679504, 0.086121, -0.723755, -0.083862],
[-0.679321, 0.085999, -0.72406, -0.083069],
[-0.67926, 0.085693, -0.724243, -0.082153],
[-0.678711, 0.088623, -0.724182, -0.084045],
[-0.678223, 0.088257, -0.724854, -0.08252],
[-0.677429, 0.088013, -0.72583, -0.080811],
[-0.676514, 0.08783, -0.726868, -0.078979],
[-0.675842, 0.08783, -0.727722, -0.077209],
[-0.674805, 0.09198, -0.727905, -0.079285],
[-0.674377, 0.092102, -0.728455, -0.07782],
[-0.67395, 0.092285, -0.729004, -0.076355],
[-0.673279, 0.092224, -0.729736, -0.074768],
[-0.672668, 0.092102, -0.73053, -0.073059],
[-0.671814, 0.094849, -0.730896, -0.073914],
[-0.671448, 0.094482, -0.731445, -0.072083],
[-0.671265, 0.094299, -0.731812, -0.070251],
[-0.671448, 0.094116, -0.731873, -0.068237],
[-0.671143, 0.093872, -0.732361, -0.06604],
[-0.670776, 0.096863, -0.7323, -0.066711],
[-0.670776, 0.09729, -0.732361, -0.064941],
[-0.670776, 0.098206, -0.732361, -0.063416],
[-0.670593, 0.099426, -0.732544, -0.062012],
[-0.6698, 0.10083, -0.733215, -0.060486],
[-0.668274, 0.104553, -0.734009, -0.060913],
[-0.666626, 0.106323, -0.735352, -0.059509],
[-0.664795, 0.108582, -0.736755, -0.058228],
[-0.662842, 0.111206, -0.73822, -0.057251],
[-0.660461, 0.114319, -0.739929, -0.056519],
[-0.657288, 0.121521, -0.741394, -0.059631],
[-0.653931, 0.124939, -0.743774, -0.059509],
[-0.650085, 0.128418, -0.746521, -0.059509],
[-0.645752, 0.131714, -0.749695, -0.059509],
[-0.641113, 0.134766, -0.753174, -0.059387],
[-0.63623, 0.139709, -0.756287, -0.060974],
[-0.631287, 0.142029, -0.760071, -0.060242],
[-0.626038, 0.144165, -0.764038, -0.059204],
[-0.620667, 0.146179, -0.768127, -0.058044],
[-0.615234, 0.148254, -0.772217, -0.056702],
[-0.609802, 0.152161, -0.775757, -0.056824],
[-0.604919, 0.153809, -0.779358, -0.055603],
[-0.600464, 0.155273, -0.782532, -0.054626],
[-0.596313, 0.156677, -0.785461, -0.054138],
[-0.59259, 0.158203, -0.787964, -0.054382],
[-0.588928, 0.161926, -0.789795, -0.056702],
[-0.585388, 0.16394, -0.791931, -0.05719],
[-0.58197, 0.166077, -0.794006, -0.056885],
[-0.578552, 0.168274, -0.796143, -0.055969],
[-0.575195, 0.170654, -0.798096, -0.055054],
[-0.572205, 0.173523, -0.799683, -0.054749],
[-0.569824, 0.176025, -0.800842, -0.05481],
[-0.567383, 0.177979, -0.802124, -0.054749],
[-0.56488, 0.179749, -0.803528, -0.054382],
[-0.562622, 0.181519, -0.804749, -0.053955],
[-0.560852, 0.184143, -0.805359, -0.054565],
[-0.560059, 0.185669, -0.805481, -0.054871],
[0.559937, 0.187012, -0.805237, -0.055054],
[-0.56012, 0.187988, -0.804993, -0.054382],
[-0.560364, 0.188538, -0.80481, -0.052917]
    ];
    var i = 0;
    var max = quads.length - 1;
    var that = this;
    setInterval(function() {
      if (i === max) i =0;
      that.setState({cQ: quads[i]})
      i++;
    }, 13);

  },

  handleSwitch: function() {
    var isLive = !this.state.isLive;
    console.log('is it live:', isLive);
    this.setState({isLive: isLive});
  },

  renderFields: function(){
    var that = this;
    return this.state.fields.map(function(field){
      var value;
      var caption;
      var id;
      if(Array.isArray(field)){
        id = field[0];
        value = that.props.sensor[field[0]] || 'missing';
        caption = field[1];
      }else{
        value = that.props.sensor[field] || 'missing';
        caption = field;
        id = field;
      }
      var text = value;
      if(id === 'creationDate'){
        var parts = /^([0-9]{4}-[0-9]{2}-[0-9]{2})T([0-9]{2}:[0-9]{2}:[0-9]{2}.[0-9]+)Z$/.exec(text);
        text = parts[1] + ' ' + parts[2];
      }else if(id === 'sensorTypes'){
        text = that.props.sensor[field[0]].join(', ');
      }
      return(
        <tr key={caption}>
          <td>{caption}</td>
          <td>{id === 'owner' ? <a href={"/user/" + text}>{text}</a> : text}</td>
        </tr>
      );
    });
  },

  renderClusters:function(){
    var that = this;
    return this.props.sensor.attachedClusters.map(function(cluster){
      return(
        <div className='row' key={cluster}>
          <a href={'/cluster/' + cluster}>
          <div className='large-12 columns selectable-row'>{cluster}</div>
</a>
      </div>
      );
    });
  },

  //renderGraph: function(){
    //return (
      //<div className='row'>
        //<div className='large-12 columns' style={{border: '1px solid black',height:300}}>super meger krasse d3 Grafik</div>
      //</div>);
  //},

  render: function() {
    return (
      <div>
        <TopBar user={this.props.user} activePage='sensors' />
        <div style={{marginTop: 25}}>
          <div className='row column' style={{float: 'none'}}>
            <div className='callout'>
                <h3>{this.props.sensor.name}</h3>
                <table style={{width: '100%'}}>
                  <tbody style={{borderWidth: 0}}>
                    {this.renderFields()}
                  </tbody>
                </table>
            </div>
          </div>
          <div className='row column' style={{float: 'none'}}>
            <div className='callout'>
              <h5>attached cluster</h5>
              {this.renderClusters()}
            </div>
          </div>
          <div className='row column' style={{float:'none'}}>
            <div className='callout'>
              <div style={{textAlign: 'center'}}>
                <p style={{marginBottom: 0}}>Show live data</p>
                <div className="switch large">
                  <input className="switch-input"
                    id="yes-no"
                    type="checkbox"
                    onClick={this.handleSwitch}
                    name="exampleSwitch"/>
                  <label className="switch-paddle" htmlFor="yes-no">
                    <span className="show-for-sr"></span>
                    <span className="switch-active" aria-hidden="true">Yes</span>
                    <span className="switch-inactive" aria-hidden="true">No</span>
                  </label>
              </div>
            </div>
            <Arrow3D quad={this.state.cQ}/>
            </div>
          </div>
        </div>
      </div>
    );
  }
});

module.exports = SingleSensor;
